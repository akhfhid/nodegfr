        <script>
            // Theme Switcher Logic
            function toggleTheme(checkbox) {
                const isLight = checkbox.checked;

                if (isLight) {
                    document.body.classList.add('light-theme');
                    localStorage.setItem('theme', 'light');
                } else {
                    document.body.classList.remove('light-theme');
                    localStorage.setItem('theme', 'dark');
                }
            }

            // LOGOUT MODAL LOGIC
            function openLogoutModal() {
                const modal = document.getElementById('logoutModal');
                if (modal) modal.style.display = 'flex';
            }

            function closeLogoutModal() {
                const modal = document.getElementById('logoutModal');
                if (modal) modal.style.display = 'none';
            }

            // Global Window Click Handler for Modals
            window.onclick = function (event) {
                const logoutModal = document.getElementById('logoutModal');
                const tutorialModal = document.getElementById('tutorialModal');
                const purchaseModal = document.getElementById('purchaseModal');
                
                if (logoutModal && event.target === logoutModal) {
                    logoutModal.style.display = "none";
                }
                if (tutorialModal && event.target === tutorialModal) {
                    tutorialModal.style.display = "none";
                }
                if (purchaseModal && event.target === purchaseModal) {
                    purchaseModal.style.display = "none";
                }
            }

            // Initialize Theme on Load
            (function () {
                const savedTheme = localStorage.getItem('theme');
                const checkbox = document.getElementById('theme-checkbox');
                if (savedTheme === 'light') {
                    document.body.classList.add('light-theme');
                    if (checkbox) checkbox.checked = true;
                } else {
                    document.body.classList.remove('light-theme');
                    if (checkbox) checkbox.checked = false;
                }
            })();

            function start() {
                const input = document.getElementById('formurl');
                const status = document.getElementById('form-status');
                const v = input ? input.value.trim() : '';
                
                if (status) {
                    status.innerText = '';
                    status.style.color = '#f87171'; // Reset color to red error
                }

                if (!v) {
                    if (status) status.innerText = 'Masukkan link Google Form';
                    return;
                }
                if (!v.includes('docs.google.com')) {
                    if (status) status.innerText = 'Link tidak valid';
                    return;
                }

                // Trigger Loading UI
                const overlay = document.getElementById('loading-overlay');
                const content = document.getElementById('main-content');
                if (overlay) overlay.style.display = 'flex';
                if (content) content.classList.add('fade-out-active');

                // Redirect after animation
                setTimeout(() => {
                    window.location.href = '/scrape?url=' + encodeURIComponent(v);
                }, 700);
            }

            // Handle Enter Key
            const formUrlInput = document.getElementById('formurl');
            if (formUrlInput) {
                formUrlInput.addEventListener('keypress', function (event) {
                    if (event.key === 'Enter') {
                        start();
                    }
                });
            }

            // Smooth Scroll for Anchor Links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#' || !targetId) return;
                    
                    const element = document.querySelector(targetId);
                    if (element) {
                        element.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // --- TUTORIAL MODAL LOGIC ---
            function openTutorial() {
                const modal = document.getElementById('tutorialModal');
                if (modal) modal.style.display = 'flex';
            }

            function closeTutorial() {
                const modal = document.getElementById('tutorialModal');
                if(modal) modal.style.display = 'none';
            }
        </script>
